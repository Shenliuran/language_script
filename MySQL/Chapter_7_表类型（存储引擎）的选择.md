# 第七章 表类型（存储引擎）的选择

## 概述

+ 插件式存储引擎是 MySQL 数据库最重要的特性之一，用户可以根据应用的需要选择如何存储和索引数据、是否使用事务等
+ 在创建新表的时候，可以通过增加 ENGINE 关键字设置新建表的存储引擎
+ 修改数据表引擎：`ALTER TABLE tablename ENGINE = newEngine`

## 各种存储引擎的特性

+ 常用存储引擎的对比

>特点|MyISAM|InnoDB|MEMORY|MERGE|NDB
>|:--|:-----|:----|:-----|:----|:--|
>存储限制|有|64TB|有|没有|有
>事务安全||支持
>锁机制|表锁|行锁|表锁|表锁|行锁
>B 树索引|支持|支持|支持|支持|支持
>哈希索引|||支持||支持
>全文索引|支持
>集群索引||支持
>数据缓存||支持|支持||支持
>索引缓存|支持|支持|支持|支持|支持
>数据可压缩|支持
>空间使用|低|高|N/A|低|低
>内存使用|低|高|中等|低|高
>批量插入的速度|高|低|高|高|高
>支持外键|支持

### MyISAM

+ MyISAM是MySQL的默认存储引擎
+ 每个M有ISAM在磁盘上存储成3个文件，其文件名都和表明相同，扩展名分别：
    1. `.frm`：存储表定义
    2. `.MYD`：MYData，存储数据
    3. `.MYI`：MYIndex，存储索引
+ 数据文件和索引文件可以放在不同的目录，平均分布IO，获得更快的速度
+ 要指定索引文件和数据文件的路径，需要在创建表的时候通过 `DATA DIRECTORY` 和 `INDEX DIRECTORY` 语句指定。文件路径需要时 **绝对路径**，并且 **具有访问权限**
+ MyISAM 类型的表可能会损坏，原因可能是多种多样的，**损坏后的表可能不能访问**，会提示需要修复或者访问后返回错误的结果
+ 插入记录后面的空格都被去掉了，前面的空格保留
+ 定期执行 `OPTIMIZE TABLE` 语句或 `myisamchk -r` 命令来改善性能，
